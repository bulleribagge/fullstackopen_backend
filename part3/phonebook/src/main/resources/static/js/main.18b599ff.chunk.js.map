{"version":3,"sources":["components/Person.js","components/PhoneBook.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","components/App.js","index.js"],"names":["Person","_ref","person","handleDeletePerson","react_default","a","createElement","name","number","onClick","e","id","PhoneBook","persons","map","x","components_Person","key","PersonForm","newName","newPhoneNumber","handleNameChange","handlePhoneNumberChange","handleAddPerson","value","onChange","type","Filter","searchTerm","handleSearchTermChange","baseUrl","services_persons","newPerson","axios","post","then","res","data","delete","concat","get","updatedPerson","put","Notification","message","isError","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewPhoneNumber","_useState7","_useState8","setSearchTerm","_useState9","_useState10","notificationMessage","setNotificationMessage","_useState11","_useState12","notificationMessageIsError","setNotificationMessageIsError","displayMessage","msg","delay","arguments","length","undefined","setTimeout","filteredPersons","filter","toLowerCase","indexOf","useEffect","personService","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","find","window","confirm","personToUpdate","console","log","newPersons","catch","returnedPerson","components_PhoneBook","personToDelete","_","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.18b599ff.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person, handleDeletePerson }) => (\r\n    <tr>\r\n        <td>{person && person.name}</td>\r\n        <td>{person && person.number}</td>\r\n        <td>{person && \r\n            <button onClick={(e) => handleDeletePerson(e, person.id)}>delete</button>\r\n        }</td>\r\n    </tr>\r\n)\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst PhoneBook = ({ persons, handleDeletePerson }) => (\r\n    <table>\r\n        <tbody>\r\n            {persons.map(x =>\r\n                <Person key={x.name} person={x} handleDeletePerson={handleDeletePerson} />\r\n            )}\r\n        </tbody>\r\n    </table>\r\n)\r\n\r\nexport default PhoneBook","import React from 'react'\r\n\r\nconst PersonForm = ({newName, newPhoneNumber, handleNameChange, handlePhoneNumberChange, handleAddPerson}) => {\r\n    return (\r\n        <form>\r\n            <div>\r\n                name: <input value={newName} onChange={(e) => handleNameChange(e)} />\r\n            </div>\r\n            <div>\r\n                phonenumber: <input value={newPhoneNumber} onChange={(e) => handlePhoneNumberChange(e)} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\" onClick={(e) => handleAddPerson(e)}>add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({ searchTerm, handleSearchTermChange }) => (\r\n    <div>\r\n        filter shown with <input value={searchTerm} onChange={(e) => handleSearchTermChange(e)} />\r\n    </div>\r\n)\r\n\r\nexport default Filter","import axios from 'axios'\r\n\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst get = () => {\r\n    const req = axios.get(baseUrl)\r\n    return req.then(res => res.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n    const req = axios.post(baseUrl, newPerson)\r\n    return req.then(res => res.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const req = axios.delete(`${baseUrl}/${id}`)\r\n    return req.then(res => res)\r\n}\r\n\r\nconst put = updatedPerson => {\r\n    const req = axios.put(`${baseUrl}/${updatedPerson.id}`, updatedPerson)\r\n    return req.then(res => res.data)\r\n}\r\n\r\nexport default {\r\n    create,\r\n    remove,\r\n    get,\r\n    put\r\n}","import React from 'react'\r\n\r\nconst Notification = ({ message, isError }) => {\r\n    if(message === null) {\r\n        return null\r\n    }\r\n\r\n    return(\r\n        <div className={isError ? \"notificationError\" : \"notificationMessage\"}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport PhoneBook from './PhoneBook';\r\nimport PersonForm from './PersonForm'\r\nimport Filter from './Filter'\r\nimport personService from '../services/persons'\r\nimport Notification from './Notification'\r\nimport '../index.css'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newPhoneNumber, setNewPhoneNumber] = useState('')\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [notificationMessage, setNotificationMessage] = useState(null)\r\n  const [notificationMessageIsError, setNotificationMessageIsError] = useState(false)\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  }\r\n\r\n  const handlePhoneNumberChange = (event) => {\r\n    setNewPhoneNumber(event.target.value);\r\n  }\r\n\r\n  const handleSearchTermChange = (event) => {\r\n    setSearchTerm(event.target.value);\r\n  }\r\n\r\n  const displayMessage = (msg, isError, delay = 3000) => {\r\n    setNotificationMessage(msg)\r\n    setNotificationMessageIsError(isError)\r\n\r\n    setTimeout(() => {\r\n      setNotificationMessage(null)\r\n    }, delay)\r\n  }\r\n\r\n  const filteredPersons = searchTerm === '' ? persons : persons.filter(x => x.name.toLowerCase().indexOf(searchTerm.toLowerCase()) !== -1)\r\n\r\n  const handleAddPerson = (e) => {\r\n    e.preventDefault();\r\n    if (!persons.find(x => x.name === newName)) {\r\n      const newPerson = { name: newName, number: newPhoneNumber }\r\n      personService.create(newPerson)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson));\r\n        setNewName('');\r\n        setNewPhoneNumber('');\r\n        displayMessage('Person added', false)\r\n      })\r\n    } else {\r\n      var shouldUpdate = window.confirm(`${newName} is already in the phonebook, replace the old number with the new one?`);\r\n      if(shouldUpdate)\r\n      {\r\n        var personToUpdate = persons.filter(x => x.name === newName)[0]\r\n        personToUpdate.number = newPhoneNumber\r\n        console.log(personToUpdate)\r\n        personService.put(personToUpdate)\r\n        .then(updatedPerson => {\r\n          const newPersons = persons.filter(x => x.id !== personToUpdate.id).concat(updatedPerson)\r\n          setPersons(newPersons)\r\n          displayMessage('Person updated', false)\r\n        })\r\n        .catch(e => {\r\n          displayMessage(`Information of '${personToUpdate.name}' has already been removed from server`, true)\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleDeletePerson = (e, id) => {\r\n    const personToDelete = persons.filter(x => x.id === id)[0]\r\n    const shouldDelete = window.confirm(`Delete ${personToDelete.name}?`)\r\n    if(shouldDelete)\r\n    {\r\n      personService.remove(id)\r\n      .then(_ => {\r\n        const newPersons = persons.filter(x => x.id !== id)\r\n        setPersons(newPersons)\r\n      })\r\n      .catch(e => {\r\n        displayMessage(`Information of '${personToDelete.name}' has already been removed from server`, true)\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    personService.get()\r\n    .then(persons => {\r\n      setPersons(persons)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notificationMessage} isError={notificationMessageIsError}/>\r\n      <Filter \r\n        searchTerm={searchTerm}\r\n        handleSearchTermChange={handleSearchTermChange}\r\n      />\r\n      <h3>Add new person</h3>\r\n      <PersonForm\r\n        newName={newName}\r\n        newPhoneNumber={newPhoneNumber}\r\n        handleNameChange={handleNameChange}\r\n        handlePhoneNumberChange={handlePhoneNumberChange}\r\n        handleAddPerson={handleAddPerson}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <PhoneBook persons={filteredPersons} handleDeletePerson={handleDeletePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}